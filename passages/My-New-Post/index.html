<!DOCTYPE html>
<html>
  
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="author" content="xxx">
  
  
  <title>My Jsp | Hexo</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="jsp,">
  

  
  <meta name="description" content="xxx">

  

  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.1/dist/av-min.js" async></script>
  

  
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  

  
    <script src="//unpkg.com/valine/dist/Valine.min.js" async></script>
  

  

  <script>
  // theme-ad's config script
  // it can be used in every script
  
  window.AD_CONFIG = {
    leancloud: {"appid":"MDoK06tUeJNe9gUQnRye15hO-gzGzoHsz","appkey":"c0Irl5sjfr5NqD3wIbJrMCDA","comment":true,"count":true},
    welcome: {"enable":false,"interval":30},
    start_time: "2019-10-16",
    passwords: ["efe07af7441da2b69c4a41e42e73be4db47f66010a56900788a458354a7373ec", ],
    is_post: true,
    lock: false,
    author: "xxx",
    share: {"twitter":true,"facebook":true,"weibo":true,"qq":true,"wechat":true},
    mathjax: true,
    page_type: "",
    root: "/blog/"
  };
</script>

  <script src="/blog/vendor/sha256.min.js"></script>
<script src="/blog/js/auth.js"></script>
<script src="/blog/js/index.js"></script>
<script src="/blog/vendor/qrcode.min.js"></script>

  
    <link rel="icon" href="/blog/images/favicon.ico">
    <link rel="apple-touch-icon" href="/blog/images/touch-icon.png">
  

  <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/blog/css/index.css">
<link rel="stylesheet" href="/blog/styles/components/highlight/highlight.css">

  
</head>
  <body>
    <header class="site-header">
  <div class="site-header-brand">
    
      <span class="site-header-brand-title">
        <a href="/blog/">xxx</a>
      </span>
    
    
      <span class="site-header-brand-motto"> | 不要忘记，你依然是个菜鸡！</span>
    
  </div>
  <div class="site-header-right">
    <nav class="site-header-navigation">
      
        <a href="/blog/" target="_self">首页</a>
      
        <a href="/blog/archives/" target="_self">归档</a>
      
        <a href="/blog/tags/" target="_self">标签</a>
      
        <a href="/blog/categories/" target="_self">分类</a>
      
        <a href="/blog/friends/" target="_self">友链</a>
      
        <a href="/blog/about/" target="_self">关于</a>
      
    </nav>
    <div class="site-header-btn">
      
        <a href="https://github.com/hahahashiqi/" target="_blank" id="site-github">
          <i class="fa fa-github-alt"></i>
        </a>
      
      <a href="javascript:void(0);" id="site-search">
        <i class="fa fa-search"></i>
      </a>
      <a href="javascript:void(0);" id="site-nav-btn">
        <i class="fa fa-ellipsis-v"></i>
      </a>
    </div>
  </div>
</header>
<nav class="table-content" id="site-nav">
  <div class="table-content-title">
    <span>导航</span>
  </div>
  <div class="table-content-main">
    <ol class="toc">
      
        <li class="toc-item">
          <a href="/blog/" target="_self">
            首页
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/blog/archives/" target="_self">
            归档
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/blog/tags/" target="_self">
            标签
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/blog/categories/" target="_self">
            分类
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/blog/friends/" target="_self">
            友链
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/blog/about/" target="_self">
            关于
          </a>
        </li>
      
    </ol>
  </div>
</nav>
<div id="site-process"></div>
    <main>
      
  <div class="passage">
  <div class="passage-meta">
    <span>
      <i class="fa fa-calendar"></i>2019-10-16
    </span>
    
    
      <span>
        | <i class="fa fa-unlock-alt"></i>UNLOCK
      </span>
    
  </div>
  <h1 class="passage-title">
    My Jsp
  </h1>
  
  <article class="passage-article">
    <h1 id="架构："><a href="#架构：" class="headerlink" title="架构："></a>架构：</h1><p>BS：Browser/Server<br>CS: Client/Server //如果软件升级，那么全部的客户端都要升级 每一台客户端都需要安装软件</p>
<h1 id="常见的状态码："><a href="#常见的状态码：" class="headerlink" title="常见的状态码："></a>常见的状态码：</h1><p>404：资源不存在<br>403：权限不足<br>200：一切正常<br>300：页面重定向<br>500：内部错误（代码写错了）</p>
<h1 id="两种配置项目路径的方式"><a href="#两种配置项目路径的方式" class="headerlink" title="两种配置项目路径的方式"></a>两种配置项目路径的方式</h1><p>a.将项目配置到web以外的目录<br>在conf/server.xml文件中配置<br><context docbase="D:\study\JspProject" path="/JspProject"><br>//path 相当于webapps(重启)<br>b.C:\Program Files\Apache SoftwareFoundation\Tomcat8.5\conf\Catalina\localhost 中新建 “项目名.xml”新增一行：<br><context docbase="E:\JspProject" path="/JspProject"></context></context></p>
<h1 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Engine name=<span class="string">"Catalina"</span> defaultHost=<span class="string">"www.test.com"</span>&gt;</span><br><span class="line">&lt;Host name=<span class="string">"www.test.com"</span>  appBase=<span class="string">"E:\JspProject"</span> &gt;</span><br><span class="line">	  &lt;Context docBean=<span class="string">"E:\JspProject"</span> parh=<span class="string">"/"</span>&gt;</span><br><span class="line">&lt;/Host&gt;</span><br></pre></td></tr></table></figure>

<p>修改本机的Host</p>
<h1 id="配置Tomcat"><a href="#配置Tomcat" class="headerlink" title="配置Tomcat"></a>配置Tomcat</h1><p>a.将tomcat/lib中的servlet-api.jac加入项目的构建路径<br>b.右键项目-&gt;Build Path -&gt;Add Library -&gt;Server Runtime</p>
<h1 id="统一编码字符集"><a href="#统一编码字符集" class="headerlink" title="统一编码字符集"></a>统一编码字符集</h1><h5 id="编码分类："><a href="#编码分类：" class="headerlink" title="编码分类："></a>编码分类：</h5><p>设置Jsp文件的编码（jsp文件中的PageEncoding属性）：jsp-&gt;java<br>设置浏览器读取jsp文件的编码（jsp文件中的Content属性）<br>一般将上述设置成一致的编码，推荐使用UTF-8</p>
<h5 id="文本编码："><a href="#文本编码：" class="headerlink" title="文本编码："></a>文本编码：</h5><p>将整个环境下的编码统一设置<br>设置某一个项目的编码格式<br>设置单独的文件编码</p>
<p>jsp元素：脚本Scriplet  注释  指令 </p>
<h5 id="脚本Scriplet"><a href="#脚本Scriplet" class="headerlink" title="脚本Scriplet"></a>脚本Scriplet</h5><p>i:   &lt;%   局部变量java语句 %&gt;<br>ii：&lt;!%  全局变量，定义方法  %&gt;<br>iii:  &lt;%=输出表达式%&gt;</p>
<p>一般而言修改 web.xml 配置文件需要重启 tomcat<br>但是如果修改 Jsp/<br>注意out.println （）不能回车；</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">要想回车：&lt;/br&gt;</span><br></pre></td></tr></table></figure>

<h5 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h5><p>page指令<br>&lt;%@page…..@&gt;<br>page 指定的属性<br>language:jsp页面使用的脚本语言<br>import:导入类<br>pageEncoding:jsp文件自身编码 jsp-&gt;java<br>contentType:浏览器解析Jsp的编码</p>
<h5 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h5><p>html注释  <!-- 注释 --><br>java注释   //   /*<br>jsp注释   &lt;%– –%&gt;</p>
<h1 id="Jsp内置对象"><a href="#Jsp内置对象" class="headerlink" title="Jsp内置对象"></a>Jsp内置对象</h1><p>out        输出对象,向客户端输出内容<br>request        请求对象,存储“客户端向服务端发送的信息”<br>response         响应对象<br>session         会话对象<br>appliation     全局对象<br>config         配置对象<br>page          当前JSP页面对象（相当于java只中的this）<br>pageContext    jsp页面容器<br>exception     异常对象</p>
<h1 id="request对象的常见方法："><a href="#request对象的常见方法：" class="headerlink" title="request对象的常见方法："></a>request对象的常见方法：</h1><p>String getParameter (String name ):根据请求的字段名Key,返回字段值value<br>String [] getParameterValues(String name):根据请求的字段名KEY，返回多个字段值value（checkbox）<br>void setCharacterEncoding(“编码格式UTF-8”):设置（post）请求编码（tomcat7以前默认的是iso-8859-1,tomvat8以后的是UTF-8）<br>getRequestDispatcher(“b.jsp”).forward(request,response);:请求转发的方式跳转页面 A-&gt;B<br>ServletContext getServerContext()：获取项目的ServletContext对象</p>
<h1 id="get与post的区别："><a href="#get与post的区别：" class="headerlink" title="get与post的区别："></a>get与post的区别：</h1><p>a.get请求方式会在地址栏里显示请求信息（但是容量有限4-5kb,如果是请求数据存在大文件推荐使用POST）<br>b.文件上传操作必须是Post<br>11.统一请求的编码 request </p>
<h5 id="get"><a href="#get" class="headerlink" title="get"></a>get</h5><p>方式请求  如果出现乱码，解决：<br>a.统一每一个变量的编码：<br>new String (旧编码，新编码)；<br>tomcat7 (iso-8859-1)<br>tomcat8 (utf-8）<br>b.修改server.xml 一次性的 更改tomcat的编码格式 URIEncoding=”UTF-8”<br>建议使用tomcat 时首先在server.xml文件中修改</p>
<h5 id="post"><a href="#post" class="headerlink" title="post"></a>post</h5><p>request.setCharacterEncoding(“uft-8”);<br>Cookie :name = value<br>javax.servlet.http.Cookie产生的Cookie<br>public Cookie(String name, String value)<br>String name:获取name<br>String value：获取value<br>void setMaxAge( int expiry) :设置最大的有效期</p>
<h1 id="服务端准备Cookie"><a href="#服务端准备Cookie" class="headerlink" title="服务端准备Cookie:"></a>服务端准备Cookie:</h1><p>response.addCookie(Cookie cookie)<br>页面跳转 有两种方式（页面转发，重定向）<br>客户端获取cookie:request.getCookies();<br>a.服务端增加Cookie :response 对象   客户端获取对象：request对象<br>b.不能直接获取某一个单独对象，只能一次将全部的Cookie 拿到 然后遍历 全部的Cookie  根据名字可以 可以拿到相应的value </p>
<h1 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h1><p>session (会话–是服务端产生的用于和客户端之间建立一一对应的关系，)<br>session机制：<br>    客户端在第一次访问服务端的时候，服务端会产生一个Session对象（这其中包含SessionId）,然后服务端还会产生<br>一个Cookie,当服务端响应客户端的时候就把这个cookie 发送给客户端（包含Jsession=sessionid）<br>    每个session 都会有唯一的SessionId,</p>
<h5 id="Sessionid"><a href="#Sessionid" class="headerlink" title="Sessionid"></a>Sessionid</h5><p>sessionid (存在与服务端，想当于客户端cookie里面的Jsessionid,通过sessionid可以区分不同的浏览器) </p>
<p>cookie(存在于客户端，由有服务端产生，里面可以包含你的用户名和密码，Jsessionid==Sessionid )<br>建议 cookie 只保存英文和数字 否则需要编码和解码<br>服务端第一次发现你没有jsessionid 会 new 一个 name=jsessionid 的对象 返回给客户端</p>
<h5 id="Session注销"><a href="#Session注销" class="headerlink" title="Session注销"></a>Session注销</h5><p>&lt;a href=””invalidate.jsp value=”注销”&gt;<br>session.invalidate();  将整个 session 全部删除  session 失效<br>session.removeAttribute(“name”);   //只是删除某个属性值</p>
<h1 id="cookie-和-session的区别："><a href="#cookie-和-session的区别：" class="headerlink" title="cookie 和 session的区别："></a>cookie 和 session的区别：</h1><p>标题        cookie        session<br>保存的位置     客户端        服务端<br>安全性        不安全        安全<br>保存的内容    String        Object</p>
<h1 id="application全局对象"><a href="#application全局对象" class="headerlink" title="application全局对象"></a>application全局对象</h1><p>四种范围对象（小-&gt;大）<br>pageContext    JSP容器对象（page对象）<br>request        请求对象<br>response        响应对象<br>application    全局对象<br>以上4个对象共有的方法：<br>Object getAttribute(String name):根据属性名，或者属性值<br>void setAttribute(String name, Object obj):设置属性值，（新增，修改）<br>    setAttribute(“a”,”b”)//若之前a对象不存在则new一个a<br>            若已经存在了则把a的值改为b<br>void removeAttribute(String name):根据属性名，删除对象</p>
<p>a.<br>pageContext 当前页面有效(页面跳转之后无效)<br>b.<br>request   同一次请求；其他请求无效（请求转发 有效，重定向无效）<br>c.<br>session   整个会话期间（切换浏览器/关闭无效）<br>d.<br>applivcation  整个项目运行期间都有效（关闭服务器，其他项目）无效<br>-&gt;多个项目共享，重启后仍然有效：JNDI<br>1.以上的4个范围对象，通过 setAttribute属性赋值，通过getAttribute（）取值<br>2.尽量使用最小的范围，因为对象的范围越大，造成的性能损耗越大</p>

  </article>
  <aside class="table-content" id="site-toc">
  <div class="table-content-title">
    <i class="fa fa-arrow-right fa-lg" id="site-toc-hide-btn"></i>
    <span>目录</span>
  </div>
  <div class="table-content-main">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#架构："><span class="toc-text">架构：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#常见的状态码："><span class="toc-text">常见的状态码：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#两种配置项目路径的方式"><span class="toc-text">两种配置项目路径的方式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#虚拟主机"><span class="toc-text">虚拟主机</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#配置Tomcat"><span class="toc-text">配置Tomcat</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#统一编码字符集"><span class="toc-text">统一编码字符集</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#编码分类："><span class="toc-text">编码分类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#文本编码："><span class="toc-text">文本编码：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#脚本Scriplet"><span class="toc-text">脚本Scriplet</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#指令"><span class="toc-text">指令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#注释"><span class="toc-text">注释</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Jsp内置对象"><span class="toc-text">Jsp内置对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#request对象的常见方法："><span class="toc-text">request对象的常见方法：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#get与post的区别："><span class="toc-text">get与post的区别：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#get"><span class="toc-text">get</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#post"><span class="toc-text">post</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#服务端准备Cookie"><span class="toc-text">服务端准备Cookie:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Session"><span class="toc-text">Session</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Sessionid"><span class="toc-text">Sessionid</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Session注销"><span class="toc-text">Session注销</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cookie-和-session的区别："><span class="toc-text">cookie 和 session的区别：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#application全局对象"><span class="toc-text">application全局对象</span></a></li></ol>
  </div>
</aside>
  
  
    <div class="passage-tags">
     
      <a href="/blog/tags/jsp/"><i class="fa fa-tags"></i>jsp</a>
    
    </div>
  
</div>

    </main>
    
      
<div class="site-comment-contanier" data-plateform="leancloud">
  
    <p id="site-comment-info">
      <i class="fa fa-spinner fa-spin"></i> 评论加载中
    </p>
    <div id="site-comment"></div>
  
</div>
    
    <div class="site-footer-wrapper">
  <footer class="site-footer">
    
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">博客推荐</h5>
          
            <span class="site-footer-item">
              <a href="" target="_self"></a>
            </span>
          
            <span class="site-footer-item">
              <a href="http://baidu.com/" target="_blank">百度</a>
            </span>
          
        </div>
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">系列教程</h5>
          
            <span class="site-footer-item">
              <a href="#" target="_self">webpack4系列教程</a>
            </span>
          
            <span class="site-footer-item">
              <a href="#" target="_self">设计模式手册</a>
            </span>
          
        </div>
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">抓到我</h5>
          
            <span class="site-footer-item">
              <a href="" target="_self">掘金</a>
            </span>
          
            <span class="site-footer-item">
              <a href="" target="_self">思否</a>
            </span>
          
        </div>
      
    
    <div class="site-footer-info">
      <i class="fa fa-clock-o"></i> 本站已稳定运行<span id="site-time"></span>
    </div>
    
      <div class="site-footer-info">
        <i class="fa fa-paw"></i> 您是本站第 <span id="site-count"></span> 位访客
      </div>
    
    
      <div class="site-footer-info">
        <i class="fa fa-at"></i> Email: 
      </div>
    
    <div class="site-footer-info">
      <i class="fa fa-copyright"></i> 
      2019 <a href="https://github.com/dongyuanxin/theme-ad/" target="_blank">Theme-AD</a>.
      Created by <a href="https://godbmw.com/" target="_blank">GodBMW</a>.
      All rights reserved.
    </div>
  </footer>
</div>
    <div id="site-layer" style="display:none;">
  <div class="site-layer-content">
    <div class="site-layer-header">
      <span class="site-layer-header-title" id="site-layer-title"></span>
      <i class="fa fa-close" id="site-layer-close"></i>
    </div>
    <div class="site-layer-body" id="site-layer-container">
      <div class="site-layer-input" id="site-layer-search" style="display: none;">
        <div class="site-layer-input-choose">
          <a href="javascript:void(0);" title="Change Search Engine">Google</a>
        </div>
        <input type="text">
        <i class="fa fa-search"></i>
      </div>
      
        <div class="site-layer-reward" id="site-layer-reward" style="display: none;">
          
            <div>
              <img src="/blog/images/wechat.png" alt="WeChat">
              
                <p>WeChat</p>
              
            </div>
          
            <div>
              <img src="/blog/images/alipay.png" alt="AliPay">
              
                <p>AliPay</p>
              
            </div>
          
        </div>
      
      <div id="site-layer-welcome" style="display:none;"></div>
    </div>
  </div>
</div>
    

<div class="bottom-bar">
  <div class="bottom-bar-left">
    <a href="/blog/passages/jdbc/" data-enable="true">
      <i class="fa fa-arrow-left"></i>
    </a>
    <a href="javascript:void(0);" data-enable="false">
      <i class="fa fa-arrow-right"></i>
    </a>
  </div>
  <div class="bottom-bar-right">
    <a href="javascript:void(0);" data-enable="true" id="site-toc-show-btn">
      <i class="fa fa-bars"></i>
    </a>
    
      <a href="#site-comment" data-enable="true">
        <i class="fa fa-commenting"></i>
      </a>
    
    <a href="javascript:void(0);" id="site-toggle-share-btn">
      <i class="fa fa-share-alt"></i>
    </a>
    
      <a href="javascript:void(0);" id="site-reward">
        <i class="fa fa-thumbs-up"></i>
      </a>
    
    <a href="javascript:void(0);" id="back-top-btn">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>
</div>
    <div id="share-btn">
  
    <a id="share-btn-twitter" href="javascript:void(0);" target="_blank">
      <i class="fa fa-twitter"></i>
    </a>
  
  
    <a id="share-btn-facebook" href="javascript:void(0);" target="_blank">
      <i class="fa fa-facebook"></i>
    </a>
  
  
    <a id="share-btn-weibo" href="javascript:void(0);" target="_blank">
      <i class="fa fa-weibo"></i>
    </a>
  
  
    <a id="share-btn-qq" href="javascript:void(0);" target="_blank">
      <i class="fa fa-qq"></i>
    </a>
  
  
    <a id="share-btn-wechat" href="javascript:void(0);" target="_blank">
      <i class="fa fa-wechat"></i>
    </a>
  
</div>
    





    
  </body>
</html>